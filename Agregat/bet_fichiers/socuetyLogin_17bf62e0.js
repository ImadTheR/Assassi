document.domain="made-in-china.com";void function(){var t=navigator.userAgent.toLowerCase().match(/(ipod|ipad|iphone|android|coolpad|mmp|smartphone|midp|wap|xoom|symbian|j2me|blackberry|wince)/i)!=null;if(document.location.href.indexOf("m.made-in-china.com")!==-1){t=true}var a=t?"//m.made-in-china.com/login":"//login.made-in-china.com";var e="//login.made-in-china.com/join-sns/?flag=0";var c="//login.made-in-china.com/logon.do?xcase=doSocialLogon";var s=window;var n=function e(){this.mapping={key:null,name:null,firstName:null,lastName:null,gender:null,country:null,city:null,userName:null,email:null,companyName:null,phoneNumber:null,socialWebsite:null,timeZone:null}};n.prototype.clsName=null;n.prototype.description=null;n.prototype.tip=null;n.prototype.fireLogin=null;n.prototype.redirect=null;n.prototype.setMapping=function(e){var n;for(n in this.mapping){if(e[n]){this.mapping[n]=e[n]}}};n.prototype.getMapping=function(e){return this.mapping};n.prototype.destroyMapping=function(){this.mapping={}};n.prototype.unidiedData=function(e){var n,i={socialWebsite:this.mapping["socialWebsite"]};for(n in this.mapping){if(n!=="socialWebsite"){i[n]=this._getValue(this.mapping[n]||n,e)}}if(t){i["touchSocialLogon"]="1"}return i};n.prototype.postData=function(e){var n,i;if(top!==window){s=top}n=this.redirect.indexOf("?")===-1?this.redirect+"?":this.redirect;for(i in e){if(e[i]){n+="&"+i+"="+encodeURIComponent(e[i]||"")}}s.location.href=n};n.prototype._getValue=function(e,n){if(e.indexOf(".")===-1)return n[e]||null;var i=e.split("."),a;for(var o=0;o<i.length;o++){if(o===0){a=n[i[o]]}else{a=a?a[i[o]]:null}}return a};var o=function e(){this.carrier=null;this.loginPlus=[]};o.prototype.addLogin=function(e){var n=false;for(var i=0;i<this.loginPlus.length;i++){if(this.loginPlus[i]===e){n=true}}if(!n){this.loginPlus.push(e)}};o.prototype.show=function(e){if(!e)return;var n;for(var i=0;i<this.loginPlus.length;i++){n=document.createElement("a");n.className=this.loginPlus[i].clsName;n.alt=this.loginPlus[i].tip;n.title=this.loginPlus[i].tip;n.href="javascript:void(0);";if(this.loginPlus[i].cssText){n.style.cssText=this.loginPlus[i].cssText}else{n.innerHTML='<i class="icon ob-icon">'+this.loginPlus[i].description+"</i>"}n.onclick=this.loginPlus[i].fireLogin;e.appendChild(n)}};var i=function(){function l(e,n){var i=s.setInterval(function(){if(e&&e.readyState==4){s.clearInterval(i);if(n){n(e)}}},50)}var r=function e(){var n;try{n=new XMLHttpRequest;r=function e(){return new XMLHttpRequest}}catch(e){var i=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];for(var a=0,o=i.length;a<o;++a){try{n=new ActiveXObject(i[a]);r=function e(){return new ActiveXObject(i[a])}}catch(e){}}}return n};return function(e,n,i,a){var o={encoding:"utf-8"};var t=o.encoding?";charset="+o.encoding:"";var c=r();c.open(e,n,true);c.onreadystatechange=l;l(c,i);c.send(a||null);return c}}();function l(e,n){if(e.indexOf("?")===-1){e+="?"}$.getJSON(e+"&jsoncallback=?",function(e){n&&n(e)})}function r(e,n,i,a){if(!e)return;var o=document.getElementsByTagName("head")[0];var t=document.createElement("script");t.type="text/javascript";t.src=e;if(a){t.text=a}if(i){for(var c in i){t[c]=i[c]}}o.appendChild(t);if(t.readyState){t.onreadystatechange=function(){if(t.readyState==="loaded"||t.readyState==="complete"){t.onreadystatechange=null;n&&n()}}}else{t.onload=n}}function u(e){var n;var i=window.document.location.href;var a=i.indexOf("?");var o=i.substr(a+1);var t=o.split("&");var c;for(n=0;n<t.length;n++){c=t[n].split("=");if(c[0].toUpperCase()==e.toUpperCase())return c[1]}return""}function m(a,e){if(e.hasOwnProperty("error")){alert("Please check the network and reclick later");return}var o=a.unidiedData(e);var n=o.userName||o.firstName+o.lastName||o.name||"";var i=c+"&key="+o.key+"&email="+o.email+"&userName="+n+"&socialWebsite="+o.socialWebsite+"&touchSocialLogon="+(t?"1":"");l(i,function(e){var n=e;if(top!==window){s=top}if(n.status===1){o.baseNextPage=encodeURIComponent(g(n.status));a.postData(o)}if(n.status===2){s.location.href="//login.made-in-china.com/socialization.do?"+"xcase=successFollow&socialWebsite="+o.socialWebsite+"&"+"contactNextUrl="+decodeURIComponent(g(n.status))+"&touchSocialLogon="+(t?"1":"")+"&popup="+(top!==window?"1":"")}if(n.status===3){alert("Oops Error.")}if(n.status===4){window.SocietyError&&window.SocietyError(n.status,"Oops Error")}if(n.status===5||n.status===7){var i=n.status===5?"Sorry,Only available for global buyers.":"Sorry,Account is invalid.";window.SocietyError&&window.SocietyError(n.status,i)}})}var g=function e(n){var i=location.href;if(top!==s){i=u("dm")}if(n===2){if(u("dm")||u("baseNextPage")||u("currentPage")){i=u("dm")||u("baseNextPage")||u("currentPage")}else{i=a}}return i};if(s["getRedirectUrl"]){g=s["getRedirectUrl"]}var d=new n;d.clsName="facebook";d.description="&#xe140;";d.tip="Facebook";d.redirect=e;d.setMapping({key:"id",name:"name",firstName:"first_name",lastName:"last_name",gender:"gender",country:"locale",city:"location.name",userName:"username",email:"email",companyName:"work.0.employer.name",phoneNumber:null,socialWebsite:"Facebook",timeZone:"timezone"});d.fireLogin=function(){s.fbAsyncInit=function(){FB.init({appId:"1700856790207666",channelUrl:"",status:true,cookie:true,xfbml:true,autoLogAppEvents:true,version:"v5.0"});e()};if(!s.FB){r("//connect.facebook.net/en_US/sdk.js",function(){},{id:"facebook-jssdk",async:"true"})}else{e()}function e(){FB.login(function(e){if(e.authResponse){FB.api("/me",{fields:"name, email, gender, first_name, last_name, work"},function(e){m(d,e)})}else{}},{scope:"email,public_profile"})}};var p=new n;p.clsName="vk icon";p.cssText=""+"width: 24px;"+"height: 24px;"+"display: inline-block;"+"background-size: cover; "+"background-image: url(https://edm.focuschina.com/ffs/img/17babed086c);";p.tip="VK";p.redirect=e;p.setMapping({key:"id",name:"name",firstName:"first_name",lastName:"last_name",gender:"sex",country:"country.title",city:"city.title",userName:"userName",email:"email",companyName:null,phoneNumber:"home_phone",socialWebsite:"VK",timeZone:"timezone"});p.fireLogin=function(){s.vkAsyncInit=function(){VK.init({apiId:"7939726",status:true,onlyWidgets:true});e()};if(!s.VK){r("//vk.com/js/api/openapi.js",function(){},{id:"vk-jssdk",async:"true"})}else{e()}function e(){VK.Auth.login(function(e){if(e.status==="connected"&&e.session){VK.api("users.get",{user_ids:e.session.mid,fields:"nickname,sex,city,country,timezone,contacts",v:"5.131"},function(e){e.response[0].userName=e.response[0].first_name+e.response[0].last_name;e.response[0].name=e.response[0].userName;m(p,e.response[0])})}else{}},4194304)}};var f=new n;f.clsName="kakao icon";f.cssText=""+"width: 24px;"+"height: 24px;"+"display: inline-block;"+"background-size: cover; "+"background-image: url(https://edm.focuschina.com/ffs/img/17babf0413a);";f.tip="Kakao";f.redirect=e;f.setMapping({key:"id",name:null,firstName:null,lastName:null,gender:"kakao_account.gender",country:null,city:null,userName:"kakao_account.profile.nickname",email:"kakao_account.email",companyName:null,phoneNumber:null,socialWebsite:"Kakao",timeZone:null});f.fireLogin=function(){if(!s.Kakao){r("https://developers.kakao.com/sdk/js/kakao.js",function(){Kakao.init("b7c723d2630d7df13a96802b1a1b09f9");if(Kakao.isInitialized()){e()}},{id:"kakao-jssdk",async:"true"})}else{e()}function e(){Kakao.Auth.login({scope:"profile_nickname,account_email,gender",success:function e(i){Kakao.API.request({url:"/v2/user/me",success:function e(n){console.log(i);m(f,n)},fail:function e(n){console.log(n)}})},fail:function e(n){console.log(n)}})}};var N=new n;N.clsName="linkedin";N.description="&#xe144;";N.tip="LinkedIn";N.redirect=e;N.setMapping({key:"key",name:null,firstName:null,lastName:null,gender:null,country:null,city:null,userName:"userName",email:"email",companyName:"companyName",phoneNumber:null,socialWebsite:"LinkedIn",timeZone:null});N.fireLogin=function(){var e="//login.made-in-china.com/socialization.do?xcase=renderAuthPlatform&socialWebsite=LinkedIn";var n=I(e,"_blank",500,600);s.linkedinFB=function(e){m(N,e);n.close()}};var y=new n;y.clsName="twitter";y.description="&#xe142;";y.tip="X";y.redirect=e;y.setMapping({key:"key",name:null,firstName:null,lastName:null,gender:null,country:null,city:null,userName:"userName",email:"email",companyName:"companyName",phoneNumber:null,socialWebsite:"Twitter",timeZone:null});y.fireLogin=function(){var e="//login.made-in-china.com/socialization.do?xcase=renderAuthPlatform&socialWebsite=Twitter";var n=I(e,"_blank",500,600);s.twitterFB=function(e){m(y,e);n.close()}};var M=new n;M.clsName="line icon";M.cssText=""+"width: 24px;"+"height: 24px;"+"display: inline-block;"+"background-size: cover; "+"background-image: url(https://edm.focuschina.com/ffs/img/17babf0c47a);";M.tip="LINE";M.redirect=e;M.setMapping({key:"key",name:null,firstName:null,lastName:null,gender:null,country:null,city:null,userName:"userName",email:"email",companyName:"companyName",phoneNumber:null,socialWebsite:"LINE",timeZone:null});M.fireLogin=function(){var e="//login.made-in-china.com/socialization.do?xcase=renderAuthPlatform&socialWebsite=LINE";var n=I(e,"_blank",500,600);s.lineFB=function(e){m(M,e);n.close()}};var h=new n;h.clsName="google icon";h.cssText=""+"background-size: contain; "+"background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48dGl0bGU+Z29vZ2xlPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNLjM5OCAyMTMuMDg4QzU3LjUwOCA4Ny4zMzIgMTg0LjA3OCAwIDMzMS4yMyAwYzk4LjA1IDAgMTgwLjA1IDM1LjgwNSAyNDMuMzQyIDk1LjE0NmwtOTguNjE3IDk0Ljk4N2MtMjYuOTQ3LTI1Ljk5LTc0LjIxMi01Ni4wOTItMTQ0LjcyNC01Ni4wOTItMTAyLjYzNSAwLTE4OS42MTUgNzAuNDA3LTIxNi41NTggMTY2LjQ3NUwuMzk4IDIxMy4wODh6IiBpZD0iYSIvPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxyZWN0IGZpbGw9IiNGN0Y4RkEiIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiIHJ4PSI3OCIvPjxwYXRoIGQ9Ik01MzEuMjMgNDYwLjU0MlY1ODUuMmgyMDYuMDJjLTguMzc3IDUzLjUyNS02Mi4yOTQgMTU2Ljc2LTIwNi4wMiAxNTYuNzYtMTI0LjAyIDAtMjI1LjE4LTEwMi44MDMtMjI1LjE4LTIyOS40NiAwLTEyNi42NTcgMTAxLjE2LTIyOS40NiAyMjUuMTgtMjI5LjQ2IDcwLjUxMyAwIDExNy43NzggMzAuMTAzIDE0NC43MjUgNTYuMDkzbDk4LjYxNy05NC45ODdDNzExLjI4IDE4NC44MDYgNjI5LjI4IDE0OSA1MzEuMjMyIDE0OSAzMzAuNDU0IDE0OSAxNjggMzExLjU3NSAxNjggNTEyLjVTMzMwLjQ1NSA4NzYgNTMxLjIzIDg3NkM3NDAuNzkzIDg3NiA4ODAgNzI4LjQ2NCA4ODAgNTIwLjg4M2MwLTIzLjg1NC0yLjU2NS00Mi4wMy01LjY3NS02MC4yMDRsLTM0My4wOTQtLjEzOHoiIGZpbGw9IiMyQ0E5NEYiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik03NzkuNTQ0IDc4MC45OEM4NDMuNDI0IDcxNy45MTMgODgwIDYyNy4yODcgODgwIDUyMC44ODNjMC0yMy44NTQtMi41NjUtNDIuMDMtNS42NzUtNjAuMjA0bC0zNDMuMDk0LS4xMzhWNTg1LjJoMjA2LjAyYy00Ljg3NSAzMS4xNTQtMjUuMTggNzkuMTQ4LTY5LjY0IDExMy44MjVsMTExLjkzNCA4MS45NTV6IiBmaWxsPSIjM0U4MkY3IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNMjExLjAxMyA2ODQuMzdDMTgzLjU2NSA2MzMuMjEgMTY4IDU3NC42OTQgMTY4IDUxMi41YzAtNTQuMDAyIDExLjczNS0xMDUuMjM0IDMyLjc5NS0xNTEuMjg0bDExNS42MzggODIuMzNjLTYuNzQ0IDIxLjc2Ny0xMC4zODMgNDQuOTMyLTEwLjM4MyA2OC45NTQgMCAzMS4zNyA2LjIwNiA2MS4yOCAxNy40MjggODguNTI0TDIxMS4wMTMgNjg0LjM3eiIgZmlsbD0iI0ZDQkQwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHVzZSBmaWxsPSIjRUQ0MjJDIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHhsaW5rOmhyZWY9IiNhIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDAgMTQ5KSIvPjwvZz48L3N2Zz4=);";h.tip="google";h.redirect=e;h.setMapping({key:"id",name:"name",firstName:"first_name",lastName:"last_name",gender:null,country:null,city:null,userName:null,email:"email",companyName:null,phoneNumber:null,socialWebsite:"Google",timeZone:null});h.fireLogin=function(){if(!s.google){r("//accounts.google.com/gsi/client",function(){s.google.accounts.id.initialize({client_id:"789136601490-4civaf2vkohphj1eif9lgmiannr61m7b.apps.googleusercontent.com",callback:function e(n){try{var i=a(n.credential);m(h,{id:i.sub,name:i.name,first_name:i.given_name,last_name:i.family_name,email:i.email})}catch(e){}}});t()})}else{t()}function a(e){var n=e.split(".")[1];var i=n.replace("-","+").replace("_","/");return JSON.parse(decodeURIComponent(escape(s.atob(i))))}function o(e,n,i){var a=new Date;a.setTime(a.getTime()+i*24*60*60*1e3);var o="expires="+a.toUTCString();document.cookie=e+"="+n+"; "+o+";path=/"}function e(e){var n,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(n=document.cookie.match(i))?unescape(n[2]):null}function t(){var i=e("g_state");s.google.accounts.id.prompt(function(e){if(e.getNotDisplayedReason()==="suppressed_by_user"&&i){o("g_state","",-1);t();return}if(e.isNotDisplayed()){var n=s.google.accounts.oauth2.initTokenClient({client_id:"789136601490-4civaf2vkohphj1eif9lgmiannr61m7b.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.profile",callback:function e(n){t()},error_callback:function e(n){console.log(n,"goolge login err")}});n.requestAccessToken()}})}};function I(e,n,i,a){var o=(s.screen.height-30-a)/2;var t=s.screenX;var c=s.outerWidth;t=t<0?s.screen.width+t:t;t=t+(c-i)/2;return s.open(e,n,"height="+a+",width="+i+",top="+o+",left="+t+",toolbar=no,resizeable=no,location=no,status=no")}function k(e,n){if(top!==window){s=top}s.location.href="//login.made-in-china.com/socialization.do?xcase=errorMessage&errorMessage="+n}var L=new o;L.addLogin(d);L.addLogin(N);L.addLogin(y);L.addLogin(h);$.getJSON("//login.made-in-china.com/logon.do?xcase=doShowVkKakaoLine",function(e){if(e&&e.kakao){if(!navigator.userAgent.match(/iphone/i)&&!navigator.userAgent.match(/Ipad/i)){L.addLogin(f)}}if(e&&e.vk){L.addLogin(p)}if(e&&e.line){L.addLogin(M)}L.show(document.getElementById("scLogin"))});function v(n){var i=new o;i.addLogin(d);i.addLogin(N);i.addLogin(y);i.addLogin(h);$.getJSON("//login.made-in-china.com/logon.do?xcase=doShowVkKakaoLine",function(e){if(e&&e.kakao){if(!navigator.userAgent.match(/iphone/i)&&!navigator.userAgent.match(/Ipad/i)){i.addLogin(f)}}if(e&&e.vk){i.addLogin(p)}if(e&&e.line){i.addLogin(M)}n&&n(e,i.loginPlus)})}s.SocietyInit=v;s.SocietyError=k}.call(window);
//# sourceMappingURL=../../../../../__sources__/common/js/business/plugs/socialPlugin/socuetyLogin_17bf62e0.js.map
